<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="./js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="./js/jquery.qrcode.min.js"></script>
    <style>
        #codeIcon{
            position:fixed;
            _position:absolute;
            margin:85px;
            z-index:99999997;
            width:30px;
            height:30px;
            background:url(logout.png) no-repeat;
        }
    </style>
</head>
<body>
<!--生成二维码-->
  <div id="codeImg">
      <!--带图片-->
      <div id="codeIcon"></div>
  </div>

  <!--自动识别二维码-->
<div id="imagQrDiv"></div>
<script>
    jQuery(function(){
        /*
        *
        * 生成二维码
        *
        * */
        jQuery('#codeImg').qrcode({
            width: 200,
            height:200,
//            foreground: "#C00",
            background: "#FFF",
            text: "https://daojia.jd.com/activity/couponsPush/index.html?source=imdada&activityId=6&userId=2266970&code=A96Wt&areaId=510107"
        });


        /*
         *
         *
         * 以下代码是自动识别二维码
         *
         * */


        //从 canvas 提取图片 image
        function convertCanvasToImage(canvas) {
//新Image对象，可以理解为DOM
            var image = new Image();
// canvas.toDataURL 返回的是一串Base64编码的URL，当然,浏览器自己肯定支持
// 指定格式 PNG
            image.src = canvas.toDataURL("image/png");
            return image;
        }
//获取网页中的canvas对象
        var mycanvas1=document.getElementsByTagName('canvas')[0];
//将转换后的img标签插入到html中
        var img=convertCanvasToImage(mycanvas1);
        $('#imagQrDiv').append(img);//imagQrDiv表示你要插入的容器id
    })
</script>


  <!--<script type="text/javascript">/* 2014/07/19 21:09 */-->
  <!--var _qrContent='https://github.com/zsyzsy/zl',_qrLogo='https://www.baidu.com/img/baidu_jgylogo3.gif',_qrWidth=200,_qrHeight=200,_qrType = 'url';-->
  <!--if(!_qrContent)-->
      <!--var _qrContent =escape(document.location.href);-->
  <!--document.write(unescape("%3Cscript src='http://qrcode.leipi.org/js.html?qw="+_qrWidth+"&qh="+_qrHeight+"&qt="+_qrType+"&qc="+escape(_qrContent)+"&ql="+escape(_qrLogo)+"' type='text/javascript'%3E%3C/script%3E"));-->
  <!--</script>-->

</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    var str = "aaadabbbcdcccddfdgh";

    var obj  = {};

    for(var i=0;i<str.length;i++){

        var v = str.charAt(i);

        if(obj[v] && obj[v].value == v){

            obj[v].count = ++ obj[v].count;

        }else{

            obj[v] = {};

            obj[v].count = 1;

            obj[v].value = v;

        }

    }

    for(key in obj){

        document.write(obj[key].value +'='+obj[key].count+'&nbsp;'); // a=4  b=3  c=4  d=2  f=1  g=1  h=1

    }


    //最多字母数
    var kk = getMaxStrLength(str);
    document.write("最多字母数"+kk);
    function getMaxStrLength(str){
        var maxRepetitionLength = 0;
        var result = '';
        while (str !== ''){
            var oldStr = str;
            var firstStr = str.substring(0,1);
            str = str.replace(new RegExp(firstStr,"g"), "");
            if( oldStr.length -str.length > maxRepetitionLength ){
                maxRepetitionLength = oldStr.length -str.length;
                result = firstStr + "=" + maxRepetitionLength;
            }


        }
        return result;


    }
</script>
</html>